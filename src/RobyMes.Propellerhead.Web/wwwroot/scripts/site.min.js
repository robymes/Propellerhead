this.ptt=function(n){return n.ajax=function(n,t,a,u,l,r){var e={url:t,contentType:u||"application/json",cache:!1,type:n,crossDomain:l,data:a?JSON.stringify(a):null};return r&&(e.headers=r),jQuery.ajax(e)},n.postJson=function(t,a,u){return n.ajax("POST",t,a,null,u,null)},n.getJson=function(t,a){return n.ajax("GET",t,null,null,a,null)},n}(this.ptt||{});
this.ptt=function(e){var t=function(){var t=this,r="http://"+location.host+"/api/",n=r+"GetCustomers",u=r+"GetCustomersOrderByName",o=r+"GetCustomersOrderByCreationDate",s=r+"GetCustomerById",a=r+"NewCustomer";t.getCustomers=function(t,r){var u={PageSize:t,PageIndex:r,NameFilter:null,CreatioDateFilter:null,CustomerStatusFilter:null};return e.postJson(n,u,!1)},t.getCustomersOrderByName=function(t,r,n){var o={Query:{PageSize:t,PageIndex:r,NameFilter:null,CreatioDateFilter:null,CustomerStatusFilter:null},Ascending:n};return e.postJson(u,o,!1)},t.getCustomersOrderByCreationDate=function(t,r,n){var u={Query:{PageSize:t,PageIndex:r,NameFilter:null,CreatioDateFilter:null,CustomerStatusFilter:null},Ascending:n};return e.postJson(o,u,!1)},t.getCustomerById=function(t){var r={Id:t};return e.postJson(s,r,!1)},t.newCustomer=function(t){var r={Name:t};return e.postJson(a,r,!1)}};return e.ApiService=function(){return new t},e}(this.ptt||{});
this.ptt=function(t){var n=function(){this.newCustomerAdded=new Bacon.Bus};return t.ApplicationBus=function(){return new n},t}(this.ptt||{});
this.ptt=function(e){var r=function(e,r){var n,o,i,t=this,a="glyphicon-minus",s="glyphicon-chevron-up";t.items=ko.observableArray([]),t.errorMessage=ko.observable(""),t.nameOrdering=ko.observable(a),t.creationdateOrdering=ko.observable(a),t.orderByName=function(){t.creationdateOrdering(a),t.nameOrdering()==s?(t.nameOrdering("glyphicon-chevron-down"),o(10,0,!1)):(t.nameOrdering(s),o(10,0,!0))},t.orderByCreationDate=function(){t.nameOrdering(a),t.creationdateOrdering()==s?(t.creationdateOrdering("glyphicon-chevron-down"),i(10,0,!1)):(t.creationdateOrdering(s),i(10,0,!0))},n=function(r,n){t.nameOrdering(a),t.creationdateOrdering(a),e.getCustomers(r,n).done(function(e){t.items.removeAll(),t.items(e)}).fail(function(e){t.errorMessage("An error has occurred loading customers")})},o=function(r,n,o){e.getCustomersOrderByName(r,n,o).done(function(e){t.items.removeAll(),t.items(e)}).fail(function(e){t.errorMessage("An error has occurred loading customers")})},i=function(r,n,o){e.getCustomersOrderByCreationDate(r,n,o).done(function(e){t.items.removeAll(),t.items(e)}).fail(function(e){t.errorMessage("An error has occurred loading customers")})},r.newCustomerAdded.onValue(function(){n(10,0)}),r.newCustomerAdded.onError(function(e){t.errorMessage(e.message)}),t.init=function(){t.errorMessage(""),t.nameOrdering(a),t.creationdateOrdering(a),n(10,0)}};return e.CustomerListViewModel=function(e,n){return new r(e,n)},e}(this.ptt||{});
this.ptt=function(e){var n=function(e,n){var t=this;t.name=ko.observable(""),t.canInsertNewItem=ko.computed(function(){return t.name()&&!0},t),t.insertNewItem=function(){e.newCustomer(t.name()).done(function(e){t.name(""),n.newCustomerAdded.push(!0)}).fail(function(){n.newCustomerAdded.error(new Bacon.Error("Error inserting a new Customer"))})}};return e.NewCustomerViewModel=function(e,t){return new n(e,t)},e}(this.ptt||{});
this.ptt=function(e){var n=function(e,n,t){var o,r=this;r.name=ko.observable(""),r.errorMessage=ko.observable(""),r.creationDate=ko.observable(""),o=function(n){e.getCustomerById(n).done(function(e){r.name(e.name),r.creationDate(e.creationDate)}).fail(function(e){r.errorMessage("An error has occurred loading customers")})},r.init=function(){o(t)}};return e.CustomerViewModel=function(e,t,o){return new n(e,t,o)},e}(this.ptt||{});
this.ptt=function(t){var i=function(){var i=t.ApiService(),e=t.ApplicationBus(),n={customerList:t.CustomerListViewModel(i,e),newCustomer:t.NewCustomerViewModel(i,e)};ko.applyBindings(n),n.customerList.init()};return t.IndexApp=function(){return new i},t}(this.ptt||{});
this.ptt=function(t){var i=function(i){var n=t.ApiService(),e=t.ApplicationBus(),r={customer:t.CustomerViewModel(n,e,i)};ko.applyBindings(r),r.customer.init()};return t.CustomerApp=function(t){return new i(t)},t}(this.ptt||{});
//# sourceMappingURL=site.min.js.map
